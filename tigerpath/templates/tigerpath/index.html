{% load django_vite %}
<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8" />
  <meta name="viewport"
        content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description"
        content="TigerPath helps Princeton University students plan out their four-year course schedules.">

  <title>TigerPath - Four-Year Course Planner</title>

  <!-- Custom fonts for this template -->
  <link href="https://fonts.googleapis.com/css?family=Lato:300,400,700,300italic,400italic,700italic"
        rel="stylesheet"
        type="text/css">

  <!-- FontAwesome -->
  <link rel="stylesheet"
        href="https://use.fontawesome.com/releases/v5.0.10/css/all.css"
        integrity="sha384-+d0P83n9kaQMCwj8F4RJB66tzIwOKmrdb46+porD/OvrJ+37WqIM7UoBtwHO6Nlg"
        crossorigin="anonymous">

  {% include 'includes/analytics/analytics_head.html' %}

  <!-- Vite HMR + React Refresh (must load before any React code) -->
  {% vite_hmr_client %}
  {% vite_react_refresh %}
</head>

<body>
  {% include 'includes/analytics/analytics_body.html' %}

  <!-- Banner shown on mobile -->
  <div id="banner">
    <div id="banner-content">
      TigerPath is optimized for desktops/laptops. Please use a device with a larger screen size to
      get the best experience.
    </div>
  </div>

  <!-- Navigation -->
  <nav class="navbar navbar-expand-lg navbar-dark">
    <div class="container">
      <a class="navbar-brand"
         href="{% url 'index' %}">TigerPath</a>
      <div>
        <a class="btn nav-btn"
           href="{% url 'about' %}"
           target="_blank"
           rel="noopener noreferrer">About</a>
        <a class="btn nav-btn"
           href="https://goo.gl/forms/T0pnhwdBYIS8mM6q1"
           target="_blank"
           rel="noopener noreferrer">Feedback</a>
        <a class="btn nav-btn"
           href="https://github.com/PrincetonUSG/TigerPath"
           target="_blank"
           rel="noopener noreferrer"><i class="fab fa-github"></i></a>
        <a id="print-btn"
           class="btn nav-btn"
           href="javascript:window.print()"
           rel="noopener noreferrer"><i class="fas fa-print"></i></a>
        <div class="dropdown">
          <a id="netid-btn"
             class="btn nav-btn dropdown-toggle"
             data-bs-toggle="dropdown"
             href="#">{{ request.user.profile.nickname|default:request.user.username }}</a>
          <div id="netid-dropdown"
               class="dropdown-menu">
            <a class="dropdown-item"
               href="#"
               id="help-btn">Tutorial<i class="far fa-question-circle ms-2"></i></a>
            <a class="dropdown-item"
               href="#"
               id="settings-btn">Settings</a>
            <a class="dropdown-item"
               href="{% url 'logout' %}">Logout</a>
          </div>
        </div>
      </div>
    </div>
  </nav>

  <div id="app"
       class="row"></div>

  {% if onboarding_form %}
    {% include 'tigerpath/onboarding.html' %}
  {% elif show_tutorial %}
    <script>
      document.addEventListener('DOMContentLoaded', function () { startIntro(); });
    </script>
  {% endif %}

  {% vite_asset 'src/index.jsx' %}

  {% include 'tigerpath/settings.html' %}
  {% include 'includes/messages.html' %}
</body>

</html>
